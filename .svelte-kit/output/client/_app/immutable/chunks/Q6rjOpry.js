import{A as n,g as d}from"./BtBNgcIe.js";function a(){return typeof document>"u"?"":d("csrftoken")}async function l(){const e=await fetch(`${n}/api/admin/products/`,{credentials:"include"});if(!e.ok)throw await e.text();return e.json()}async function u(e){const t=await fetch(`${n}/api/admin/products/`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":a()},body:JSON.stringify(e)});if(!t.ok)throw await t.text();return t.json()}async function m(e,t){const i=await fetch(`${n}/api/admin/products/${e}/`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":a()},body:JSON.stringify(t)});if(!i.ok)throw await i.text();return i.json()}async function h(e,t){const i=new FormData;i.append("image",t);const o=await fetch(`${n}/api/admin/products/${e}/upload-main/`,{method:"POST",credentials:"include",headers:{"X-CSRFToken":a()},body:i});if(!o.ok)throw await o.text();return o.json()}async function w(e,t){const i=new FormData;i.append("image",t);const o=await fetch(`${n}/api/admin/products/${e}/gallery/`,{method:"POST",credentials:"include",headers:{"X-CSRFToken":a()},body:i});if(!o.ok)throw await o.text();return o.json()}async function p(e){const t=await fetch(`${n}/api/admin/products/gallery/${e}/delete/`,{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":a()}});if(!t.ok)throw await t.text();return!0}async function y(e){const t=await fetch(`${n}/api/admin/products/${e}/`,{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":a()}});if(!t.ok)throw await t.text();return!0}async function g(){const e=await fetch(`${n}/api/admin/categories/`,{credentials:"include"});if(!e.ok)throw await e.text();return e.json()}async function S(e={}){let t=`${n}/api/admin/orders/`;const i=new URLSearchParams;e.user_id&&i.set("user_id",String(e.user_id)),e.page&&i.set("page",String(e.page)),e.page_size&&i.set("page_size",String(e.page_size)),e.status&&e.status!=="all"&&i.set("status",e.status),e.email&&i.set("email",e.email),e.date_from&&i.set("date_from",e.date_from),e.date_to&&i.set("date_to",e.date_to);const o=i.toString();o&&(t+=`?${o}`);const s=await fetch(t,{credentials:"include"});if(!s.ok)throw await s.text();return s.json()}async function k(e){const t=await fetch(`${n}/api/admin/orders/${e}/`,{credentials:"include"});if(!t.ok)throw await t.text();return t.json()}async function $(e){const t=new URLSearchParams;e?.status&&e.status!=="all"&&t.set("status",e.status),e?.email&&t.set("email",e.email),e?.date_from&&t.set("date_from",e.date_from),e?.date_to&&t.set("date_to",e.date_to);const i=t.toString(),o=i?`${n}/api/admin/orders-stats/?${i}`:`${n}/api/admin/orders-stats/`,s=await fetch(o,{credentials:"include"});if(!s.ok)throw await s.text();return s.json()}async function T(e,t){const i=await fetch(`${n}/api/admin/orders/${e}/status/`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":a()},body:JSON.stringify({status:t})});if(!i.ok)throw await i.text();return i.json()}async function C(){const e=await fetch(`${n}/api/admin/home-images/`,{credentials:"include"});if(!e.ok)throw await e.text();return e.json()}async function j(e){const t=new FormData;e.title&&t.append("title",e.title),e.caption&&t.append("caption",e.caption),e.order!==void 0&&t.append("order",String(e.order)),t.append("image",e.file),t.append("is_active","true");const i=await fetch(`${n}/api/admin/home-images/`,{method:"POST",credentials:"include",headers:{"X-CSRFToken":a()},body:t});if(!i.ok)throw await i.text();return i.json()}async function x(e,t){const i=await fetch(`${n}/api/admin/home-images/${e}/`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":a()},body:JSON.stringify(t)});if(!i.ok)throw await i.text();return i.json()}async function _(e){const t=await fetch(`${n}/api/admin/home-images/${e}/`,{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":a()}});if(!t.ok)throw await t.text();return!0}async function F(e){const t=await fetch(`${n}/api/admin/home-images/reorder/`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":a()},body:JSON.stringify(e)});if(!t.ok)throw await t.text();return t.json()}async function P(){const e=await fetch(`${n}/api/admin/gallery-images/`,{credentials:"include"});if(!e.ok)throw await e.text();return e.json()}async function R(e){const t=new FormData;e.title&&t.append("title",e.title),e.caption&&t.append("caption",e.caption),e.order!==void 0&&t.append("order",String(e.order)),t.append("image",e.file),e.is_active!==void 0&&t.append("is_active",e.is_active?"true":"false");const i=await fetch(`${n}/api/admin/gallery-images/`,{method:"POST",credentials:"include",headers:{"X-CSRFToken":a()},body:t});if(!i.ok)throw await i.text();return i.json()}async function O(e,t){const i=await fetch(`${n}/api/admin/gallery-images/${e}/`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":a()},body:JSON.stringify(t)});if(!i.ok)throw await i.text();return i.json()}async function E(e){const t=await fetch(`${n}/api/admin/gallery-images/${e}/`,{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":a()}});if(!t.ok)throw await t.text();return!0}async function X(e){const t=await fetch(`${n}/api/admin/gallery-images/reorder/`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":a()},body:JSON.stringify(e)});if(!t.ok)throw await t.text();return t.json()}async function D(e={}){const t=new URLSearchParams;e.search&&t.set("search",e.search),e.page&&t.set("page",String(e.page)),e.page_size&&t.set("page_size",String(e.page_size)),e.only_active&&t.set("only_active","1"),e.only_staff&&t.set("only_staff","1");const i=t.toString(),o=i?`${n}/api/admin/users/?${i}`:`${n}/api/admin/users/`,s=await fetch(o,{credentials:"include"});if(!s.ok){let r=s.statusText||`Error ${s.status}`;try{const c=await s.json();r=c.detail||JSON.stringify(c)}catch{}throw new Error(r)}return s.json()}async function b(e){const t=await fetch(`${n}/api/admin/users/${e}/`,{credentials:"include"});if(!t.ok)throw await t.text();return t.json()}async function v(e){const t=await fetch(`${n}/api/admin/users/`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":a()},body:JSON.stringify(e)});if(!t.ok)throw await t.text();return t.json()}async function I(e,t){const i=await fetch(`${n}/api/admin/users/${e}/`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":a()},body:JSON.stringify(t)});if(!i.ok)throw await i.text();return i.json()}async function L(e){const t=await fetch(`${n}/api/admin/users/${e}/`,{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":a()}});if(!t.ok)throw await t.text();return!0}async function N(){const e=await fetch(`${n}/api/admin/news-images/`,{credentials:"include"});if(!e.ok)throw await e.text();return e.json()}async function U(e,t){const i=await fetch(`${n}/api/admin/news-images/${e}/`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":a()},body:JSON.stringify(t)});if(!i.ok)throw new Error(await i.text());return i.json()}async function G(e){const t=new FormData;e.title&&t.append("title",e.title),e.caption&&t.append("caption",e.caption),e.order!==void 0&&t.append("order",String(e.order)),t.append("image",e.file),e.is_active!==void 0&&t.append("is_active",e.is_active?"true":"false");const i=await fetch(`${n}/api/admin/news-images/`,{method:"POST",credentials:"include",headers:{"X-CSRFToken":a()},body:t});if(!i.ok)throw await i.text();return i.json()}async function H(e){const t=await fetch(`${n}/api/admin/news-images/${e}/`,{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":a()}});if(!t.ok)throw await t.text()}async function J(e=14){const t=`${n}/api/admin/visit-stats/?days=${e}`,i=await fetch(t,{credentials:"include"});if(!i.ok)throw await i.text();return i.json()}export{h as A,y as B,m as C,w as D,p as E,J as F,P as a,R as b,X as c,O as d,E as e,C as f,j as g,F as h,x as i,_ as j,N as k,G as l,U as m,H as n,S as o,$ as p,k as q,T as r,D as s,I as t,v as u,L as v,b as w,l as x,g as y,u as z};
