import"../chunks/DsnmJJEf.js";import"../chunks/luk3gl1z.js";import{o as ve}from"../chunks/_gNL4IXV.js";import{p as pe,f as l,b as i,c as me,s as o,d as t,e as _,m as H,g as s,r as a,t as h,w as ce,a as xe}from"../chunks/CwLoShKX.js";import{s as d}from"../chunks/D8bngpjW.js";import{i as p}from"../chunks/WMMc_YU6.js";import{e as B,i as F}from"../chunks/ThBeqclG.js";import{s as ue}from"../chunks/DIJ89BUl.js";import{i as fe}from"../chunks/Ccxz8Bhd.js";import{m as _e}from"../chunks/BtBNgcIe.js";var be=l('<div class="rounded-lg bg-red-50 border border-red-200 text-red-800 text-sm px-3 py-2 mb-4"> </div>'),ge=l('<span class="text-xs text-slate-400">Cargando…</span>'),he=l('<div class="animate-pulse h-12 rounded-lg bg-slate-100"></div>'),ye=l('<div class="p-4 space-y-3"></div>'),we=l('<div class="p-6 text-center text-sm text-slate-400">Aún no has enviado reclamos ni mensajes desde el formulario de contacto.</div>'),je=l('<p class="mt-1 text-[11px] text-slate-400"> </p>'),Ce=l('<div class="mt-2 text-xs text-slate-700 bg-slate-50 border border-slate-100 rounded-lg px-3 py-2"><p class="font-medium text-slate-800 mb-0.5">Respuesta de la tienda:</p> <p class="whitespace-pre-line"> </p> <!></div>'),Ae=l('<li class="px-4 py-3 space-y-2"><div class="flex items-center justify-between gap-2"><div><p class="text-sm font-semibold text-slate-900"> </p> <p class="text-[11px] text-slate-400"> </p></div> <span> </span></div> <div class="mt-1 text-xs text-slate-600"><p class="font-medium text-slate-700 mb-0.5">Tu mensaje:</p> <p class="whitespace-pre-line"> </p></div> <!></li>'),Me=l('<ul class="divide-y divide-slate-100"></ul>'),Re=l('<main class="max-w-4xl mx-auto px-4 py-8"><header class="mb-6"><h1 class="text-xl md:text-2xl font-semibold text-slate-900">Mis reclamos y mensajes</h1> <p class="text-sm text-slate-500">Aquí puedes ver el estado de los mensajes que has enviado mediante el formulario de contacto.</p></header> <!> <section class="bg-white rounded-2xl shadow-sm border border-slate-100"><div class="px-4 py-3 border-b border-slate-100 flex items-center justify-between"><h2 class="text-sm font-semibold text-slate-800">Historial</h2> <!></div> <!></section></main>');function Se(G,J){pe(J,!1);let b=H(!0),g=H(""),y=H([]);function I(e){return e?e.replace("T"," ").slice(0,16):"-"}function K(e){return e==="pending"?"Pendiente":e==="answered"?"Respondido":"Cerrado"}const O=e=>e==="pending"?"bg-amber-100 text-amber-800 ring-amber-200":e==="answered"?"bg-green-100 text-green-800 ring-green-200":"bg-slate-100 text-slate-700 ring-slate-200";ve(async()=>{_(b,!0),_(g,"");try{_(y,await _e())}catch(e){console.error(e),_(g,"No se pudieron cargar tus reclamos. Inicia sesión nuevamente.")}finally{_(b,!1)}}),fe();var w=Re(),L=o(t(w),2);{var Q=e=>{var r=be(),m=t(r,!0);a(r),h(()=>d(m,s(g))),i(e,r)};p(L,e=>{s(g)&&e(Q)})}var N=o(L,2),j=t(N),U=o(t(j),2);{var V=e=>{var r=ge();i(e,r)};p(U,e=>{s(b)&&e(V)})}a(j);var W=o(j,2);{var X=e=>{var r=ye();B(r,4,()=>Array(3),F,(m,P)=>{var C=he();i(m,C)}),a(r),i(e,r)},Y=e=>{var r=ce(),m=xe(r);{var P=v=>{var c=we();i(v,c)},C=v=>{var c=Me();B(c,5,()=>s(y),F,(Z,n)=>{var A=Ae(),M=t(A),R=t(M),q=t(R),$=t(q,!0);a(q);var S=o(q,2),ee=t(S);a(S),a(R);var T=o(R,2),ae=t(T,!0);a(T),a(M);var k=o(M,2),z=o(t(k),2),te=t(z,!0);a(z),a(k);var se=o(k,2);{var re=x=>{var u=Ce(),f=o(t(u),2),ie=t(f,!0);a(f);var oe=o(f,2);{var le=D=>{var E=je(),ne=t(E);a(E),h(de=>d(ne,`Respondido el ${de??""}`),[()=>I(s(n).replied_at)]),i(D,E)};p(oe,D=>{s(n).replied_at&&D(le)})}a(u),h(()=>d(ie,s(n).admin_reply)),i(x,u)};p(se,x=>{s(n).admin_reply&&x(re)})}a(A),h((x,u,f)=>{d($,s(n).subject||"Sin asunto"),d(ee,`Enviado el ${x??""}`),ue(T,1,u),d(ae,f),d(te,s(n).message)},[()=>I(s(n).created_at),()=>`inline-flex items-center rounded-full px-2.5 py-0.5 text-[11px] font-medium ring-1 ${O(s(n).status)}`,()=>K(s(n).status)]),i(Z,A)}),a(c),i(v,c)};p(m,v=>{s(y).length===0?v(P):v(C,!1)},!0)}i(e,r)};p(W,e=>{s(b)?e(X):e(Y,!1)})}a(N),a(w),i(G,w),me()}export{Se as component};
