import"../chunks/DsnmJJEf.js";import"../chunks/luk3gl1z.js";import{p as oe,f as J,t as N,g as r,b as i,c as le,s as o,d as a,e as l,m as n,r as s,n as x,C as ie,h as j,v as ne}from"../chunks/CwLoShKX.js";import{e as T,s as ce}from"../chunks/D8bngpjW.js";import{i as Z}from"../chunks/WMMc_YU6.js";import{r as M,s as V}from"../chunks/CkmYFb5S.js";import{b as D,a as de}from"../chunks/DGOQ8hUW.js";import{p as ve}from"../chunks/CdEA5IGF.js";import{i as pe}from"../chunks/Ccxz8Bhd.js";import{s as me,a as ue}from"../chunks/DH8C1yjn.js";import{d as fe,u as xe}from"../chunks/C-KkEP16.js";import{g as be}from"../chunks/5pKeZvy2.js";import{a as ge,t as he}from"../chunks/wZ8Uf4_x.js";var we=J('<div class="mt-4 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"><div class="flex items-start gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="mt-0.5 h-5 w-5 flex-none" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 9v4m0 4h.01M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"></path></svg> <p class="leading-5"> </p></div></div>'),_e=j('<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M3.53 2.47 2.47 3.53l3.3 3.3C3.92 8.1 2.46 9.9 2 12c2.1 5 7.02 8 10 8 1.69 0 3.57-.58 5.3-1.66l3.17 3.17 1.06-1.06L3.53 2.47ZM12 6c3.2 0 6.52 1.94 8.38 5.27-.36 1.05-1 2.12-1.87 3.12l-2.2-2.2A4.5 4.5 0 0 0 9.8 8.27L7.7 6.17C9.07 5.63 10.54 6 12 6Zm2.7 7.88-4.58-4.58A3 3 0 0 1 14.7 13.9Z"></path></svg>'),ye=j('<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M12 6c-5 0-9 4.5-10 6 1 1.5 5 6 10 6s9-4.5 10-6c-1-1.5-5-6-10-6Zm0 10a4 4 0 1 1 .001-8.001A4 4 0 0 1 12 16Z"></path></svg>'),ke=j('<svg class="h-4 w-4 animate-spin" viewBox="0 0 24 24" fill="none"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 0 1 8-8v3a5 5 0 0 0-5 5H4z"></path></svg> Entrando…',1),Ce=J('<div class="min-h-screen bg-gradient-to-br from-amber-50 via-slate-50 to-white flex items-center justify-center p-4"><div class="w-full max-w-md"><div class="p-[1px] rounded-2xl bg-gradient-to-br from-amber-500/60 via-amber-300/50 to-slate-200/60 shadow-[0_10px_30px_-12px_rgba(0,0,0,0.25)]"><div class="rounded-2xl bg-white border border-slate-200/60"><div class="px-6 pt-6"><div class="flex items-center gap-3"><div class="h-10 w-10 rounded-xl bg-amber-100 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 14c3.866 0 7 1.79 7 4v1H5v-1c0-2.21 3.134-4 7-4Zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"></path></svg></div> <div><h1 class="text-2xl font-semibold text-slate-900">Iniciar sesión</h1> <p class="text-sm text-slate-500">Bienvenido de vuelta.</p></div></div> <!></div> <form class="px-6 pb-6 pt-4 space-y-4"><div><label for="username" class="block text-sm font-medium text-slate-700">Usuario</label> <div class="mt-1 relative"><span class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400" viewBox="0 0 20 20" fill="currentColor"><path d="M10 10a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm-7 7a7 7 0 1 1 14 0H3Z"></path></svg></span> <input id="username" class="w-full rounded-xl border border-slate-300 pl-10 pr-3 py-2.5 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500/70 focus:border-amber-500 transition" placeholder="Tu usuario" autocomplete="username"/></div></div> <div><label for="password" class="block text-sm font-medium text-slate-700">Contraseña</label> <div class="mt-1 relative"><span class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400" viewBox="0 0 24 24" fill="currentColor"><path d="M12 1a5 5 0 0 0-5 5v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V6a5 5 0 0 0-5-5Zm-3 8V6a3 3 0 0 1 6 0v3H9Z"></path></svg></span> <input id="password" class="w-full rounded-xl border border-slate-300 pl-10 pr-11 py-2.5 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500/70 focus:border-amber-500 transition" placeholder="Tu contraseña" autocomplete="current-password"/> <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-600"><!></button></div> <div class="mt-2 flex items-center justify-between"><label class="inline-flex items-center gap-2 select-none text-sm text-slate-600"><input type="checkbox" class="size-4 rounded border-slate-300 text-amber-600 focus:ring-amber-500"/> Recuérdame</label> <p class="mt-2 text-xs text-slate-500 text-right"><a href="/recuperar-clave" class="underline hover:text-slate-700">¿Olvidaste tu contraseña?</a></p></div></div> <button class="w-full rounded-xl bg-amber-600 text-white py-2.5 text-sm font-medium shadow hover:bg-amber-700 active:bg-amber-800 disabled:opacity-60 disabled:cursor-not-allowed transition flex items-center justify-center gap-2" type="submit"><!></button> <p class="text-center text-sm text-slate-600">¿No tienes cuenta? <a href="/registro" class="font-medium text-amber-700 hover:text-amber-800 underline underline-offset-4">Crear cuenta</a></p></form></div></div></div></div>');function Ne(P,R){oe(R,!1);const[U,q]=me(),F=()=>ue(xe,"$user",U);let d=n(""),v=n(""),p=n(!1),m=n(""),c=n(!1),B=n(!1);function G(){if(!r(d)||!r(v))throw new Error("Ingresa usuario y contraseña")}async function K(){l(p,!0),l(m,"");try{if(G(),await fe(r(d),r(v)),await ie(),F()?.authenticated)ge("Sesión iniciada"),be("/");else throw new Error("Credenciales inválidas")}catch(e){let t=String(e?.message??e);try{t=JSON.parse(t).detail||t}catch{}l(m,t),he(`Error de login: ${t}`)}finally{l(p,!1)}}pe();var b=Ce(),E=a(b),H=a(E),L=a(H),g=a(L),Q=o(a(g),2);{var W=e=>{var t=we(),C=a(t),I=o(a(C),2),re=a(I,!0);s(I),s(C),s(t),N(()=>ce(re,r(m))),i(e,t)};Z(Q,e=>{r(m)&&e(W)})}s(g);var h=o(g,2),w=a(h),S=o(a(w),2),A=o(a(S),2);M(A),s(S),s(w);var _=o(w,2),y=o(a(_),2),u=o(a(y),2);M(u);var f=o(u,2),X=a(f);{var Y=e=>{var t=_e();i(e,t)},ee=e=>{var t=ye();i(e,t)};Z(X,e=>{r(c)?e(Y):e(ee,!1)})}s(f),s(y);var O=o(y,2),$=a(O),z=a($);M(z),x(),s($),x(2),s(O),s(_);var k=o(_,2),te=a(k);{var ae=e=>{var t=ke();x(),i(e,t)},se=e=>{var t=ne("Entrar");i(e,t)};Z(te,e=>{r(p)?e(ae):e(se,!1)})}s(k),x(2),s(h),s(L),s(H),s(E),s(b),N(()=>{V(u,"type",r(c)?"text":"password"),V(f,"aria-label",r(c)?"Ocultar contraseña":"Mostrar contraseña"),k.disabled=r(p)}),D(A,()=>r(d),e=>l(d,e)),D(u,()=>r(v),e=>l(v,e)),T("click",f,()=>l(c,!r(c))),de(z,()=>r(B),e=>l(B,e)),T("submit",h,ve(K)),i(P,b),le(),q()}export{Ne as component};
